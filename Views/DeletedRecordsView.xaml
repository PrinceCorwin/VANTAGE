<Window x:Class="VANTAGE.Views.DeletedRecordsView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:syncfusion="http://schemas.syncfusion.com/wpf"
        Title="Deleted Records Management - ADMIN ONLY"
        Height="700"
        Width="1400"
        WindowStartupLocation="CenterOwner"
        Background="{StaticResource BackgroundColor}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="60"/>
            <!-- Toolbar -->
            <RowDefinition Height="*"/>
            <!-- Grid -->
            <RowDefinition Height="40"/>
            <!-- Status Bar -->
        </Grid.RowDefinitions>

        <!-- TOOLBAR -->
        <Border Grid.Row="0"
                Background="{StaticResource ToolbarBackground}"
                BorderBrush="{StaticResource BorderColor}"
                BorderThickness="0,0,0,1"
                Padding="10">
            <StackPanel Orientation="Horizontal">

                <!-- Restore Button -->
                <Button x:Name="btnRestore"
                        Content="RESTORE"
                        Width="120"
                        Height="40"
                        Margin="0,0,10,0"
                        Background="#FF27AE60"
                        Foreground="White"
                        FontWeight="Bold"
                        Click="BtnRestore_Click">
                    <Button.ToolTip>
                        <ToolTip Content="Restore selected records back to active database"/>
                    </Button.ToolTip>
                </Button>

                <!-- Purge Button -->
                <Button x:Name="btnPurge"
                        Content="PURGE"
                        Width="120"
                        Height="40"
                        Margin="0,0,10,0"
                        Background="#FFE74C3C"
                        Foreground="White"
                        FontWeight="Bold"
                        Click="BtnPurge_Click">
                    <Button.ToolTip>
                        <ToolTip Content="PERMANENTLY delete selected records (cannot be undone)"/>
                    </Button.ToolTip>
                </Button>

                <!-- Export Button -->
                <Button x:Name="btnExport"
                        Content="EXPORT"
                        Width="120"
                        Height="40"
                        Margin="0,0,10,0"
                        Background="{StaticResource ControlBackground}"
                        Foreground="{StaticResource ForegroundColor}"
                        FontWeight="Bold"
                        Click="BtnExport_Click">
                    <Button.ToolTip>
                        <ToolTip Content="Export deleted records to Excel"/>
                    </Button.ToolTip>
                </Button>

                <Separator Width="20" Background="Transparent"/>

                <!-- Refresh Button -->
                <Button x:Name="btnRefresh"
                        Content="REFRESH"
                        Width="120"
                        Height="40"
                        Margin="0,0,10,0"
                        Background="{StaticResource ControlBackground}"
                        Foreground="{StaticResource ForegroundColor}"
                        FontWeight="Bold"
                        Click="BtnRefresh_Click"/>

                <Separator Width="20" Background="Transparent"/>

                <!-- Auto-Purge Settings -->
                <TextBlock Text="Auto-Purge After:"
                          VerticalAlignment="Center"
                          Foreground="{StaticResource TextColorSecondary}"
                          Margin="0,0,10,0"/>

                <ComboBox x:Name="cmbAutoPurgeDays"
                         Width="120"
                         Height="30"
                         VerticalAlignment="Center"
                         Background="{StaticResource ControlBackground}"
                         Foreground="{StaticResource ForegroundColor}"
                         SelectionChanged="CmbAutoPurgeDays_SelectionChanged">
                    <ComboBoxItem Content="Never" IsSelected="True"/>
                    <ComboBoxItem Content="30 Days"/>
                    <ComboBoxItem Content="60 Days"/>
                    <ComboBoxItem Content="90 Days"/>
                    <ComboBoxItem Content="180 Days"/>
                    <ComboBoxItem Content="365 Days"/>
                </ComboBox>

                <!-- Info Icon -->
                <TextBlock Text="ℹ️"
                          FontSize="16"
                          VerticalAlignment="Center"
                          Margin="5,0,0,0"
                          Foreground="{StaticResource AccentColor}"
                          ToolTip="Records older than this will be automatically purged on app startup"/>

            </StackPanel>
        </Border>

        <!-- DATA GRID -->
        <Border Grid.Row="1"
                BorderBrush="{StaticResource BorderColor}"
                BorderThickness="0">
            <syncfusion:SfDataGrid x:Name="sfDeletedActivities"
                                   AutoGenerateColumns="False"
                                   AllowEditing="False"
                                   AllowFiltering="True"
                                   AllowSorting="True"
                                   SelectionMode="Extended"
                                   ShowRowHeader="True"
                                   RowHeight="30">

                <syncfusion:SfDataGrid.Columns>
                    <syncfusion:GridTextColumn MappingName="ActivityID" 
                                              HeaderText="ID" 
                                              Width="80"/>
                    <syncfusion:GridTextColumn MappingName="UniqueID" 
                                              HeaderText="Unique ID" 
                                              Width="150"/>
                    <syncfusion:GridTextColumn MappingName="Description" 
                                              HeaderText="Description" 
                                              Width="300"/>
                    <syncfusion:GridTextColumn MappingName="TagNO" 
                                              HeaderText="Tag" 
                                              Width="120"/>
                    <syncfusion:GridTextColumn MappingName="Area" 
                                              HeaderText="Area" 
                                              Width="100"/>
                    <syncfusion:GridTextColumn MappingName="AssignedToUsername" 
                                              HeaderText="Was Assigned To" 
                                              Width="120"/>
                    <syncfusion:GridNumericColumn MappingName="BudgetMHs" 
                                                 HeaderText="Budget MHs" 
                                                 Width="100"
                                                 NumberDecimalDigits="2"/>
                    <syncfusion:GridNumericColumn MappingName="PercentEntry" 
                                                 HeaderText="% Complete" 
                                                 Width="100"
                                                 NumberDecimalDigits="0"/>
                    <!-- Note: deletedBy and DeletedDate will need to be added to your Activity model or handled differently -->
                </syncfusion:SfDataGrid.Columns>
            </syncfusion:SfDataGrid>
        </Border>

        <!-- STATUS BAR -->
        <Border Grid.Row="2"
                Background="{StaticResource StatusBarBackground}"
                BorderBrush="{StaticResource BorderColor}"
                BorderThickness="0,1,0,0"
                Padding="10,0">
            <DockPanel>
                <TextBlock x:Name="txtRecordCount"
                          DockPanel.Dock="Left"
                          Text="0 deleted records"
                          Foreground="{StaticResource StatusBarForeground}"
                          VerticalAlignment="Center"/>

                <TextBlock x:Name="txtStatus"
                          DockPanel.Dock="Right"
                          Text="Ready"
                          Foreground="{StaticResource StatusBarForeground}"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Right"/>
            </DockPanel>
        </Border>
    </Grid>
</Window>