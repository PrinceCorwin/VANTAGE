<Window x:Class="VANTAGE.Views.DeletedRecordsView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:syncfusion="http://schemas.syncfusion.com/wpf"
        xmlns:skinManager="clr-namespace:Syncfusion.SfSkinManager;assembly=Syncfusion.SfSkinManager.WPF"
        skinManager:SfSkinManager.Theme="{skinManager:SkinManagerExtension ThemeName=FluentDark}"
        Title="Deleted Records Management - ADMIN ONLY"
        Height="700"
        Width="1400"
        WindowStartupLocation="CenterOwner"
        Background="{StaticResource BackgroundColor}">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="190"/>
            <!-- Left Sidebar -->
            <ColumnDefinition Width="*"/>
            <!-- Main Grid -->
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <!-- Content -->
            <RowDefinition Height="45"/>
            <!-- Status Bar -->
        </Grid.RowDefinitions>

        <!-- LEFT SIDEBAR -->
        <Border Grid.Column="0" Grid.Row="0"
                Background="{StaticResource SidebarBackground}"
                BorderBrush="{StaticResource SidebarBorder}"
                BorderThickness="0,0,1,0">

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <!-- Header -->
                    <RowDefinition Height="*"/>
                    <!-- Project List -->
                    <RowDefinition Height="Auto"/>
                    <!-- Buttons -->
                </Grid.RowDefinitions>

                <!-- HEADER -->
                <StackPanel Grid.Row="0" Margin="15,15,15,10">
                    <TextBlock Text="DELETED RECORDS"
                              FontSize="16"
                              FontWeight="Bold"
                              Foreground="{StaticResource ForegroundColor}"
                              Margin="0,0,0,5"/>
                    <TextBlock Text="Select projects to view"
                              FontSize="11"
                              Foreground="{StaticResource TextColorSecondary}"
                              TextWrapping="Wrap"/>
                </StackPanel>

                <!-- PROJECT FILTER LIST -->
                <Border Grid.Row="1"
                        Background="{StaticResource BackgroundColor}"
                        BorderBrush="{StaticResource SidebarBorder}"
                        BorderThickness="1"
                        Margin="15,0,15,15"
                        CornerRadius="4">
                    <Grid>
                        <!-- Busy Indicator Overlay -->
                        <syncfusion:SfBusyIndicator x:Name="busyIndicator"
                                                   AnimationType="DoubleCircle"
                                                   IsBusy="False"
                                                   Foreground="{StaticResource AccentColor}"
                                                   Header="Loading projects..."
                                                   ViewboxHeight="80"
                                                   ViewboxWidth="80"/>

                        <!-- Project List -->
                        <ScrollViewer VerticalScrollBarVisibility="Auto"
                                     HorizontalScrollBarVisibility="Disabled"
                                     Padding="5">
                            <ItemsControl x:Name="lstProjectFilter">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <CheckBox Content="{Binding ProjectID}"
                                                 IsChecked="{Binding IsSelected}"
                                                 Foreground="{StaticResource ForegroundColor}"
                                                 FontSize="12"
                                                 Margin="5,3"
                                                 Padding="5,2"/>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>
                    </Grid>
                </Border>

                <!-- ACTION BUTTONS -->
                <StackPanel Grid.Row="2" Margin="15,0,15,15">

                    <!-- Refresh Button -->
                    <syncfusion:ButtonAdv x:Name="btnRefresh"
                                         Label="REFRESH"
                                         Height="45"
                                         Margin="0,0,0,8"
                                         SizeMode="Large"
                                         IconHeight="20"
                                         IconWidth="20"
                                         Background="{StaticResource ButtonPrimaryBackground}"
                                         Foreground="{StaticResource OverlayText}"
                                         Click="BtnRefresh_Click">
                        <syncfusion:ButtonAdv.ToolTip>
                            <ToolTip Content="Load deleted records for selected projects"/>
                        </syncfusion:ButtonAdv.ToolTip>
                    </syncfusion:ButtonAdv>
                    <!-- Restore Button -->
                    <syncfusion:ButtonAdv x:Name="btnRestore"
                                         Label="RESTORE"
                                         Height="42"
                                         Margin="0,0,0,0"
                                         SizeMode="Normal"
                                         Background="{StaticResource ButtonSuccessBackground}"
                                         Foreground="{StaticResource OverlayText}"
                                         Click="BtnRestore_Click">
                        <syncfusion:ButtonAdv.ToolTip>
                            <ToolTip Content="Restore selected records (sets IsDeleted=0)"/>
                        </syncfusion:ButtonAdv.ToolTip>
                    </syncfusion:ButtonAdv>

                    <!-- Clean divider line -->
                    <Border Height="2"
                        Background="{StaticResource DividerColor}"
                        Margin="0,8,0,8"/>

                    <!-- Purge Button -->
                    <syncfusion:ButtonAdv x:Name="btnPurge"
                                         Label="PURGE"
                                         Height="42"
                                         Margin="0,0,0,6"
                                         SizeMode="Normal"
                                         Background="{StaticResource ButtonDangerBackground}"
                                         Foreground="{StaticResource OverlayText}"
                                         Click="BtnPurge_Click">
                        <syncfusion:ButtonAdv.ToolTip>
                            <ToolTip Content="PERMANENTLY delete (cannot be undone)"/>
                        </syncfusion:ButtonAdv.ToolTip>
                    </syncfusion:ButtonAdv>

                    <!-- Export Button -->
                    <syncfusion:ButtonAdv x:Name="btnExport"
                                         Label="EXPORT TO EXCEL"
                                         Height="42"
                                         SizeMode="Normal"
                                         Background="{StaticResource SidebarBorder}"
                                         Foreground="{StaticResource OverlayText}"
                                         Click="BtnExport_Click">
                        <syncfusion:ButtonAdv.ToolTip>
                            <ToolTip Content="Export visible records to Excel"/>
                        </syncfusion:ButtonAdv.ToolTip>
                    </syncfusion:ButtonAdv>

                </StackPanel>
            </Grid>
        </Border>

        <!-- MAIN GRID AREA -->
        <Border Grid.Column="1" Grid.Row="0"
                Background="{StaticResource BackgroundColor}">
            <syncfusion:SfDataGrid x:Name="sfDeletedActivities"
                                   AutoGenerateColumns="False"
                                   AllowEditing="False"
                                   AllowFiltering="True"
                                   AllowSorting="True"
                                   AllowDraggingColumns="True"
                                   AllowResizingColumns="True"
                                   SelectionMode="Extended"
                                   ShowRowHeader="True"
                                   RowHeight="32">

                <syncfusion:SfDataGrid.Columns>
                    <syncfusion:GridTextColumn MappingName="ActivityID" 
                                              HeaderText="ID" 
                                              Width="60"
                                              AllowEditing="False"/>
                    <syncfusion:GridTextColumn MappingName="UniqueID" 
                                              HeaderText="Unique ID" 
                                              Width="160"
                                              AllowEditing="False"/>
                    <syncfusion:GridTextColumn MappingName="CompType" 
                                              HeaderText="Comp Type" 
                                              Width="100"/>
                    <syncfusion:GridTextColumn MappingName="PhaseCategory" 
                                              HeaderText="Phase Category" 
                                              Width="120"/>
                    <syncfusion:GridTextColumn MappingName="ROCStep" 
                                              HeaderText="ROC Step" 
                                              Width="100"/>
                    <syncfusion:GridTextColumn MappingName="Description" 
                                              HeaderText="Description" 
                                              Width="350"/>
                    <syncfusion:GridTextColumn MappingName="PhaseCode" 
                                              HeaderText="Phase Code" 
                                              Width="100"/>
                    <syncfusion:GridTextColumn MappingName="SchedActNO" 
                                              HeaderText="Sched Act" 
                                              Width="100"/>
                    <syncfusion:GridNumericColumn MappingName="Quantity" 
                                                 HeaderText="Quantity" 
                                                 Width="100"
                                                 NumberDecimalDigits="2"/>
                    <syncfusion:GridNumericColumn MappingName="BudgetMHs" 
                                                 HeaderText="Budget MHs" 
                                                 Width="110"
                                                 NumberDecimalDigits="3"/>
                    <syncfusion:GridNumericColumn MappingName="PercentEntry" 
                                                 HeaderText="% Complete" 
                                                 Width="100"
                                                 NumberDecimalDigits="0"/>
                    <syncfusion:GridTextColumn MappingName="UpdatedBy" 
                                              HeaderText="Deleted By" 
                                              Width="120"/>
                    <syncfusion:GridTextColumn MappingName="UpdatedUtcDate" 
                                              HeaderText="Deleted Date (UTC)" 
                                              Width="180"/>
                </syncfusion:SfDataGrid.Columns>
            </syncfusion:SfDataGrid>
        </Border>

        <!-- STATUS BAR -->
        <Border Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="1"
                Background="{StaticResource SidebarBackground}"
                BorderBrush="{StaticResource SidebarBorder}"
                BorderThickness="0,1,0,0"
                Padding="15,0">
            <Grid>
                <TextBlock x:Name="txtRecordCount"
                          Text="0 deleted records"
                          Foreground="{StaticResource ForegroundColor}"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Left"
                          FontSize="12"/>

                <TextBlock x:Name="txtStatus"
                          Text="Ready"
                          Foreground="{StaticResource TextColorSecondary}"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Right"
                          FontSize="11"/>
            </Grid>
        </Border>
    </Grid>
</Window>